{"version":3,"file":"_page.svelte-BAYK8TAv.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/settings/_guild_/general/_page.svelte.js"],"sourcesContent":["import { p as push, f as ensure_array_like, b as attr, e as escape_html, d as stringify, a as pop } from \"../../../../../chunks/index.js\";\nimport \"../../../../../chunks/client.js\";\nimport ms from \"ms\";\nimport \"marked\";\nfunction _page($$payload, $$props) {\n  push();\n  let { data } = $$props;\n  let tmp = data, settings = tmp.settings, channels = tmp.channels, locales = tmp.locales, roles = tmp.roles;\n  channels = channels.filter((c) => c.type === 0);\n  roles = roles.filter((r) => r.name !== \"@everyone\").sort((a, b) => b.rawPosition - a.rawPosition);\n  roles.forEach((r) => {\n    r._hexColor = r.color > 0 ? `#${r.color.toString(16).padStart(6, \"0\")}` : null;\n    r._style = r._hexColor ? `color: ${r._hexColor}` : \"\";\n  });\n  settings.autoClose = settings.autoClose ? ms(settings.autoClose) : \"\";\n  settings.logChannel = settings.logChannel ?? \"\";\n  settings.staleAfter = settings.staleAfter ? ms(settings.staleAfter) : \"\";\n  settings.workingHours = settings.workingHours.map((v) => v === null ? [] : v);\n  let autoTag = Array.isArray(settings.autoTag) ? \"custom\" : settings.autoTag;\n  let loading = false;\n  const each_array_1 = ensure_array_like(roles);\n  const each_array_2 = ensure_array_like(locales);\n  const each_array_3 = ensure_array_like(channels);\n  $$payload.out += `<h1 class=\"m-4 text-center text-4xl font-bold\">General settings</h1> <div class=\"m-2 mx-auto max-w-lg p-4 text-lg\">`;\n  {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--> <div class=\"mb-8 text-center text-orange-600 dark:text-orange-400\"><p class=\"font-semibold\"><i class=\"fa-solid fa-triangle-exclamation\"></i> Warning</p> <p>This page is made to be \"just about functional\". <a href=\"https://discordtickets.app/configuration/general\" class=\"font-semibold hover:underline\">Read the documentation</a> to avoid breaking something.</p></div> <form><div class=\"my-4 grid grid-cols-1 gap-8\"><div><label class=\"font-medium\">Auto close after <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"How long should the bot wait before closing (for close command and stale tickets)?\"></i> <input type=\"text\" class=\"input form-input\"${attr(\"value\", settings.autoClose)}></label></div> <div><label class=\"font-medium\">Auto tag channels <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"Which channels should the bot respond with tags in?\"></i> <select class=\"input form-multiselect block font-normal\"><option value=\"custom\">Specific channels</option><option value=\"ticket\">Only ticket channels</option><option value=\"!ticket\">All non-ticket channels</option><option value=\"all\">All channels</option></select> `;\n  if (autoTag === \"custom\") {\n    $$payload.out += \"<!--[-->\";\n    const each_array = ensure_array_like(channels);\n    $$payload.out += `<select multiple class=\"input form-multiselect font-normal\"><!--[-->`;\n    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n      let channel = each_array[$$index];\n      $$payload.out += `<option${attr(\"value\", channel.id)} class=\"m-1 rounded p-1\">${escape_html(channel.name)}</option>`;\n    }\n    $$payload.out += `<!--]--></select>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--></label></div> <div><label for=\"archive\" class=\"font-medium\">Archive <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"Save messages sent in tickets for future use?\"></i> <input type=\"checkbox\" id=\"archive\" name=\"archive\" class=\"form-checkbox\"${attr(\"checked\", settings.archive, true)}></label></div> <div><label class=\"font-medium\">Blocklist <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"Which roles should the bot ignore?\"></i> <select multiple class=\"input form-multiselect h-44 font-normal\"><!--[-->`;\n  for (let $$index_1 = 0, $$length = each_array_1.length; $$index_1 < $$length; $$index_1++) {\n    let role = each_array_1[$$index_1];\n    $$payload.out += `<option${attr(\"value\", role.id)} class=\"m-1 rounded p-1\"${attr(\"style\", role._style)}>${escape_html(role.unicodeEmoji || \"\")}\n\t\t\t\t\t\t\t\t${escape_html(role.name)}</option>`;\n  }\n  $$payload.out += `<!--]--></select></label></div> <div><div class=\"font-medium\">Buttons <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"Which buttons should be enabled (if the feature is enabled in the category)?\"></i> <div class=\"mx-4\"><div><label for=\"claimButton\" class=\"text-base font-medium\">Claim <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"Add a claim/unclaim button to the opening message (if enabled in category)?\"></i> <input type=\"checkbox\" id=\"claimButton\" name=\"claimButton\" class=\"form-checkbox\"${attr(\"checked\", settings.claimButton, true)}></label></div> <div><label for=\"closeButton\" class=\"text-base font-medium\">Close <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"Add a close button to the opening message?\"></i> <input type=\"checkbox\" id=\"closeButton\" name=\"closeButton\" class=\"form-checkbox\"${attr(\"checked\", settings.closeButton, true)}></label></div></div></div></div> <div><label class=\"font-medium\">Error colour <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"What colour should error embeds be?\"></i> <input type=\"text\" class=\"input form-input\"${attr(\"value\", settings.errorColour)}></label></div> <div><label class=\"font-medium\">Footer <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"What text should be at the bottom of embeds?\"></i> <input type=\"text\" class=\"input form-input\"${attr(\"value\", settings.footer)}></label></div> <div><label class=\"font-medium\">Locale <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"Which language should the bot respond in?\"></i> <select class=\"input form-multiselect\"><!--[-->`;\n  for (let $$index_2 = 0, $$length = each_array_2.length; $$index_2 < $$length; $$index_2++) {\n    let locale = each_array_2[$$index_2];\n    $$payload.out += `<option${attr(\"value\", locale)} class=\"p-1\">${escape_html(locale)}</option>`;\n  }\n  $$payload.out += `<!--]--></select></label></div> <div><label class=\"font-medium\">Log channel <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"Which channel should logs be sent to?\"></i> <select class=\"input form-multiselect\"><option value=\"\">None</option><hr><!--[-->`;\n  for (let $$index_3 = 0, $$length = each_array_3.length; $$index_3 < $$length; $$index_3++) {\n    let channel = each_array_3[$$index_3];\n    $$payload.out += `<option${attr(\"value\", channel.id)} class=\"p-1\">${escape_html(channel.name)}</option>`;\n  }\n  $$payload.out += `<!--]--></select></label></div> <div><label class=\"font-medium\">Primary colour <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"What colour should normal embeds be?\"></i> <input type=\"text\" class=\"input form-input\"${attr(\"value\", settings.primaryColour)}></label></div> <div><label class=\"font-medium\">Stale after <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"When should the bot remind members/staff about messages with no reply?\"></i> <input type=\"text\" class=\"input form-input\"${attr(\"value\", settings.staleAfter)}></label></div> <div><label class=\"font-medium\">Success colour <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"What colour should success embeds be?\"></i> <input type=\"text\" class=\"input form-input\"${attr(\"value\", settings.successColour)}></label></div> <div><div class=\"grid grid-cols-1 gap-2 font-medium\"><div>Working hours <i class=\"fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400\" title=\"When can your members expect staff to be available?\"></i> <p class=\"cursor-pointer select-none text-gray-500 transition duration-300 hover:text-blurple dark:text-slate-400 dark:hover:text-blurple\"><i${attr(\"class\", `fa-solid ${stringify(\"fa-angle-down\")} float-right text-xl`)}></i> <span class=\"text-sm\">Click to ${escape_html(\"expand\")}</span></p></div> `;\n  {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--></div></div></div> <button type=\"submit\"${attr(\"disabled\", loading, true)} class=\"float-right mt-4 rounded-lg bg-green-300 p-2 px-5 font-medium transition duration-300 hover:bg-green-500 hover:text-white disabled:cursor-not-allowed dark:bg-green-500/50 dark:hover:bg-green-500 dark:hover:text-white\">`;\n  {\n    $$payload.out += \"<!--[!-->\";\n  }\n  $$payload.out += `<!--]--> Submit</button></form></div>`;\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}