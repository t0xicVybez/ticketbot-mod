const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/index.CkTiq4yC.js","../chunks/preload-helper.C1FmrZbK.js"])))=>i.map(i=>d[i]);
import{e as _n}from"../chunks/index.g5YcAAdQ.js";import{_ as yn}from"../chunks/preload-helper.C1FmrZbK.js";import"../chunks/disclose-version.Bg9kRutz.js";import{aK as xn,aX as wn,aY as En,i as Tn,a5 as Dn,u as Sn,j as kn,l as ba,q as Cn,m as On,p as Yt,f as be,s as f,c as u,a as Bt,r as l,t as re,g,d as Ne,b as ge,aC as _a,e as ya,h as wt}from"../chunks/runtime.D2_qJMqH.js";import{s as ue}from"../chunks/render.DYyZBxIN.js";import{i as $}from"../chunks/if.DQDEx0g4.js";import{e as qe,i as Pe}from"../chunks/each.DhYb_c6Z.js";import{h as xa}from"../chunks/html.BiDgUgRj.js";import{t as I,a as C,c as Ct}from"../chunks/template.-1lJmaN6.js";import{r as Z,s as Ot,a as F}from"../chunks/attributes.HKi8Fu_N.js";import{k as Ra,d as Ii,j as In}from"../chunks/utils.Dghph3y9.js";import{R as De,b as ie,a as It}from"../chunks/Required.0zfnBhzh.js";import{b as Xe}from"../chunks/select.DchCu2yw.js";import{p as An}from"../chunks/event-modifiers.BDD76Zze.js";import{p as Oe}from"../chunks/proxy.CdfeBWYI.js";import{o as Fa}from"../chunks/index-client.BK-sKD8p.js";import{b as qn,r as wa}from"../chunks/legacy-client.bwmqDaLy.js";import{a as Pn}from"../chunks/attributes.CaPm3nup.js";import{m as nt}from"../chunks/index.D3WHGDsz.js";import{e as Ea}from"../chunks/index.B101_2Qz.js";import{m as Ta}from"../chunks/data.CSunYKlX.js";import{s as Nn}from"../chunks/class.CZ_Lwgno.js";import{s as Mn,a as Rn}from"../chunks/store.B-TJ19st.js";import{p as Fn}from"../chunks/stores.DEmN4aYk.js";import{p as La}from"../chunks/props.DioveIhQ.js";import{m as Ln}from"../chunks/Modals.CkctU4O8.js";import{q as z}from"../chunks/state.svelte.ciRFsZAd.js";import{b as jn}from"../chunks/entry.DD3pBHu9.js";import{E as Xn}from"../chunks/ErrorBox.CbGQpU3f.js";function Da(i,e,t){ba&&Cn();var a=i,n=Dn,o,r=xn()?wn:En;Tn(()=>{r(n,n=e())&&(o&&Sn(o),o=kn(()=>t(a)))}),ba&&(a=On)}async function Yn({fetch:i,params:e}){var o;const t={credentials:"include"};let a;if(e.category==="new")a={channelName:"",claiming:!1,description:"",discordCategory:"new",enableFeedback:!1,emoji:"",image:"",memberLimit:1,name:"",openingMessage:"",pingRoles:[],questions:[],ratelimit:null,requiredRoles:[],requireTopic:!1,staffRoles:[],totalLimit:50};else{const r=await i(`/api/admin/guilds/${e.guild}/categories/${e.category}`,t),s=(o=r.headers.get("Content-Type"))==null?void 0:o.includes("json");a=s?await r.json():await r.text(),r.ok||_n(r.status,s?JSON.stringify(a):a)}let n=`/api/admin/guilds/${e.guild}/categories`;return e.category!=="new"&&(n+=`/${e.category}`),{url:n,category:a,channels:await(await i(`/api/admin/guilds/${e.guild}/data?query=channels.cache`,t)).json(),roles:await(await i(`/api/admin/guilds/${e.guild}/data?query=roles.cache`,t)).json(),settings:await(await i(`/api/admin/guilds/${e.guild}/settings`,t)).json()}}const Mr=Object.freeze(Object.defineProperty({__proto__:null,load:Yn},Symbol.toStringTag,{value:"Module"}));let Et;const Bn=new Uint8Array(16);function Hn(){if(!Et&&(Et=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Et))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Et(Bn)}const ne=[];for(let i=0;i<256;++i)ne.push((i+256).toString(16).slice(1));function Wn(i,e=0){return ne[i[e+0]]+ne[i[e+1]]+ne[i[e+2]]+ne[i[e+3]]+"-"+ne[i[e+4]]+ne[i[e+5]]+"-"+ne[i[e+6]]+ne[i[e+7]]+"-"+ne[i[e+8]]+ne[i[e+9]]+"-"+ne[i[e+10]]+ne[i[e+11]]+ne[i[e+12]]+ne[i[e+13]]+ne[i[e+14]]+ne[i[e+15]]}const Un=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sa={randomUUID:Un};function Gn(i,e,t){if(Sa.randomUUID&&!e&&!i)return Sa.randomUUID();i=i||{};const a=i.random||(i.rng||Hn)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Wn(a)}/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ka(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,a)}return t}function Ae(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ka(Object(t),!0).forEach(function(a){$n(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ka(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function At(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?At=function(e){return typeof e}:At=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(i)}function $n(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Re(){return Re=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},Re.apply(this,arguments)}function zn(i,e){if(i==null)return{};var t={},a=Object.keys(i),n,o;for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function Vn(i,e){if(i==null)return{};var t=zn(i,e),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(n=0;n<o.length;n++)a=o[n],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(t[a]=i[a])}return t}var Qn="1.15.3";function Me(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var Fe=Me(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),pt=Me(/Edge/i),Ca=Me(/firefox/i),st=Me(/safari/i)&&!Me(/chrome/i)&&!Me(/android/i),ja=Me(/iP(ad|od|hone)/i),Xa=Me(/chrome/i)&&Me(/android/i),Ya={capture:!1,passive:!1};function A(i,e,t){i.addEventListener(e,t,!Fe&&Ya)}function O(i,e,t){i.removeEventListener(e,t,!Fe&&Ya)}function Rt(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ba(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function Se(i,e,t,a){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&Rt(i,e):Rt(i,e))||a&&i===t)return i;if(i===t)break}while(i=Ba(i))}return null}var Oa=/\s+/g;function he(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var a=(" "+i.className+" ").replace(Oa," ").replace(" "+e+" "," ");i.className=(a+(t?" "+e:"")).replace(Oa," ")}}function w(i,e,t){var a=i&&i.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function et(i,e){var t="";if(typeof i=="string")t=i;else do{var a=w(i,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(i=i.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(t)}function Ha(i,e,t){if(i){var a=i.getElementsByTagName(e),n=0,o=a.length;if(t)for(;n<o;n++)t(a[n],n);return a}return[]}function Ie(){var i=document.scrollingElement;return i||document.documentElement}function ee(i,e,t,a,n){if(!(!i.getBoundingClientRect&&i!==window)){var o,r,s,c,d,m,h;if(i!==window&&i.parentNode&&i!==Ie()?(o=i.getBoundingClientRect(),r=o.top,s=o.left,c=o.bottom,d=o.right,m=o.height,h=o.width):(r=0,s=0,c=window.innerHeight,d=window.innerWidth,m=window.innerHeight,h=window.innerWidth),(e||t)&&i!==window&&(n=n||i.parentNode,!Fe))do if(n&&n.getBoundingClientRect&&(w(n,"transform")!=="none"||t&&w(n,"position")!=="static")){var y=n.getBoundingClientRect();r-=y.top+parseInt(w(n,"border-top-width")),s-=y.left+parseInt(w(n,"border-left-width")),c=r+o.height,d=s+o.width;break}while(n=n.parentNode);if(a&&i!==window){var T=et(n||i),x=T&&T.a,S=T&&T.d;T&&(r/=S,s/=x,h/=x,m/=S,c=r+m,d=s+h)}return{top:r,left:s,bottom:c,right:d,width:h,height:m}}}function Ia(i,e,t){for(var a=He(i,!0),n=ee(i)[e];a;){var o=ee(a)[t],r=void 0;if(r=n>=o,!r)return a;if(a===Ie())break;a=He(a,!1)}return!1}function tt(i,e,t,a){for(var n=0,o=0,r=i.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==E.ghost&&(a||r[o]!==E.dragged)&&Se(r[o],t.draggable,i,!1)){if(n===e)return r[o];n++}o++}return null}function Ai(i,e){for(var t=i.lastElementChild;t&&(t===E.ghost||w(t,"display")==="none"||e&&!Rt(t,e));)t=t.previousElementSibling;return t||null}function _e(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==E.clone&&(!e||Rt(i,e))&&t++;return t}function Aa(i){var e=0,t=0,a=Ie();if(i)do{var n=et(i),o=n.a,r=n.d;e+=i.scrollLeft*o,t+=i.scrollTop*r}while(i!==a&&(i=i.parentNode));return[e,t]}function Jn(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===i[t][a])return Number(t)}return-1}function He(i,e){if(!i||!i.getBoundingClientRect)return Ie();var t=i,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var n=w(t);if(t.clientWidth<t.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ie();if(a||e)return t;a=!0}}while(t=t.parentNode);return Ie()}function Kn(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function gi(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var dt;function Wa(i,e){return function(){if(!dt){var t=arguments,a=this;t.length===1?i.call(a,t[0]):i.apply(a,t),dt=setTimeout(function(){dt=void 0},e)}}}function Zn(){clearTimeout(dt),dt=void 0}function Ua(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function Ga(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function $a(i,e,t){var a={};return Array.from(i.children).forEach(function(n){var o,r,s,c;if(!(!Se(n,e.draggable,i,!1)||n.animated||n===t)){var d=ee(n);a.left=Math.min((o=a.left)!==null&&o!==void 0?o:1/0,d.left),a.top=Math.min((r=a.top)!==null&&r!==void 0?r:1/0,d.top),a.right=Math.max((s=a.right)!==null&&s!==void 0?s:-1/0,d.right),a.bottom=Math.max((c=a.bottom)!==null&&c!==void 0?c:-1/0,d.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var me="Sortable"+new Date().getTime();function eo(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(n){if(!(w(n,"display")==="none"||n===E.ghost)){i.push({target:n,rect:ee(n)});var o=Ae({},i[i.length-1].rect);if(n.thisAnimationDuration){var r=et(n,!0);r&&(o.top-=r.f,o.left-=r.e)}n.fromRect=o}})}},addAnimationState:function(a){i.push(a)},removeAnimationState:function(a){i.splice(Jn(i,{target:a}),1)},animateAll:function(a){var n=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var o=!1,r=0;i.forEach(function(s){var c=0,d=s.target,m=d.fromRect,h=ee(d),y=d.prevFromRect,T=d.prevToRect,x=s.rect,S=et(d,!0);S&&(h.top-=S.f,h.left-=S.e),d.toRect=h,d.thisAnimationDuration&&gi(y,h)&&!gi(m,h)&&(x.top-h.top)/(x.left-h.left)===(m.top-h.top)/(m.left-h.left)&&(c=io(x,y,T,n.options)),gi(h,m)||(d.prevFromRect=m,d.prevToRect=h,c||(c=n.options.animation),n.animate(d,x,h,c)),c&&(o=!0,r=Math.max(r,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),o?e=setTimeout(function(){typeof a=="function"&&a()},r):typeof a=="function"&&a(),i=[]},animate:function(a,n,o,r){if(r){w(a,"transition",""),w(a,"transform","");var s=et(this.el),c=s&&s.a,d=s&&s.d,m=(n.left-o.left)/(c||1),h=(n.top-o.top)/(d||1);a.animatingX=!!m,a.animatingY=!!h,w(a,"transform","translate3d("+m+"px,"+h+"px,0)"),this.forRepaintDummy=to(a),w(a,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),w(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){w(a,"transition",""),w(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},r)}}}}function to(i){return i.offsetWidth}function io(i,e,t,a){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var Qe=[],bi={initializeByDefault:!0},mt={mount:function(e){for(var t in bi)bi.hasOwnProperty(t)&&!(t in e)&&(e[t]=bi[t]);Qe.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Qe.push(e)},pluginEvent:function(e,t,a){var n=this;this.eventCanceled=!1,a.cancel=function(){n.eventCanceled=!0};var o=e+"Global";Qe.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](Ae({sortable:t},a)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Ae({sortable:t},a)))})},initializePlugins:function(e,t,a,n){Qe.forEach(function(s){var c=s.pluginName;if(!(!e.options[c]&&!s.initializeByDefault)){var d=new s(e,t,e.options);d.sortable=e,d.options=e.options,e[c]=d,Re(a,d.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var r=this.modifyOption(e,o,e.options[o]);typeof r<"u"&&(e.options[o]=r)}},getEventProperties:function(e,t){var a={};return Qe.forEach(function(n){typeof n.eventProperties=="function"&&Re(a,n.eventProperties.call(t[n.pluginName],e))}),a},modifyOption:function(e,t,a){var n;return Qe.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(n=o.optionListeners[t].call(e[o.pluginName],a))}),n}};function ao(i){var e=i.sortable,t=i.rootEl,a=i.name,n=i.targetEl,o=i.cloneEl,r=i.toEl,s=i.fromEl,c=i.oldIndex,d=i.newIndex,m=i.oldDraggableIndex,h=i.newDraggableIndex,y=i.originalEvent,T=i.putSortable,x=i.extraEventProperties;if(e=e||t&&t[me],!!e){var S,B=e.options,L="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!Fe&&!pt?S=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(a,!0,!0)),S.to=r||t,S.from=s||t,S.item=n||t,S.clone=o,S.oldIndex=c,S.newIndex=d,S.oldDraggableIndex=m,S.newDraggableIndex=h,S.originalEvent=y,S.pullMode=T?T.lastPutMode:void 0;var N=Ae(Ae({},x),mt.getEventProperties(a,e));for(var j in N)S[j]=N[j];t&&t.dispatchEvent(S),B[L]&&B[L].call(e,S)}}var no=["evt"],pe=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=a.evt,o=Vn(a,no);mt.pluginEvent.bind(E)(e,t,Ae({dragEl:v,parentEl:G,ghostEl:D,rootEl:Y,nextEl:Ve,lastDownEl:qt,cloneEl:W,cloneHidden:Be,dragStarted:ot,putSortable:oe,activeSortable:E.active,originalEvent:n,oldIndex:Ze,oldDraggableIndex:ut,newIndex:ve,newDraggableIndex:Ye,hideGhostForTarget:Ja,unhideGhostForTarget:Ka,cloneNowHidden:function(){Be=!0},cloneNowShown:function(){Be=!1},dispatchSortableEvent:function(s){ce({sortable:t,name:s,originalEvent:n})}},o))};function ce(i){ao(Ae({putSortable:oe,cloneEl:W,targetEl:v,rootEl:Y,oldIndex:Ze,oldDraggableIndex:ut,newIndex:ve,newDraggableIndex:Ye},i))}var v,G,D,Y,Ve,qt,W,Be,Ze,ve,ut,Ye,Tt,oe,Ke=!1,Ft=!1,Lt=[],$e,Te,_i,yi,qa,Pa,ot,Je,ct,ft=!1,Dt=!1,Pt,de,xi=[],Si=!1,jt=[],Ht=typeof document<"u",St=ja,Na=pt||Fe?"cssFloat":"float",oo=Ht&&!Xa&&!ja&&"draggable"in document.createElement("div"),za=function(){if(Ht){if(Fe)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),Va=function(e,t){var a=w(e),n=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),o=tt(e,0,t),r=tt(e,1,t),s=o&&w(o),c=r&&w(r),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+ee(o).width,m=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+ee(r).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===h)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=n&&a[Na]==="none"||r&&a[Na]==="none"&&d+m>n)?"vertical":"horizontal"},ro=function(e,t,a){var n=a?e.left:e.top,o=a?e.right:e.bottom,r=a?e.width:e.height,s=a?t.left:t.top,c=a?t.right:t.bottom,d=a?t.width:t.height;return n===s||o===c||n+r/2===s+d/2},lo=function(e,t){var a;return Lt.some(function(n){var o=n[me].options.emptyInsertThreshold;if(!(!o||Ai(n))){var r=ee(n),s=e>=r.left-o&&e<=r.right+o,c=t>=r.top-o&&t<=r.bottom+o;if(s&&c)return a=n}}),a},Qa=function(e){function t(o,r){return function(s,c,d,m){var h=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(o==null&&(r||h))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return t(o(s,c,d,m),r)(s,c,d,m);var y=(r?s:c).options.group.name;return o===!0||typeof o=="string"&&o===y||o.join&&o.indexOf(y)>-1}}var a={},n=e.group;(!n||At(n)!="object")&&(n={name:n}),a.name=n.name,a.checkPull=t(n.pull,!0),a.checkPut=t(n.put),a.revertClone=n.revertClone,e.group=a},Ja=function(){!za&&D&&w(D,"display","none")},Ka=function(){!za&&D&&w(D,"display","")};Ht&&!Xa&&document.addEventListener("click",function(i){if(Ft)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Ft=!1,!1},!0);var ze=function(e){if(v){e=e.touches?e.touches[0]:e;var t=lo(e.clientX,e.clientY);if(t){var a={};for(var n in e)e.hasOwnProperty(n)&&(a[n]=e[n]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[me]._onDragOver(a)}}},so=function(e){v&&v.parentNode[me]._isOutsideThisEl(e.target)};function E(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=Re({},e),i[me]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Va(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,s){r.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:E.supportPointer!==!1&&"PointerEvent"in window&&!st,emptyInsertThreshold:5};mt.initializePlugins(this,i,t);for(var a in t)!(a in e)&&(e[a]=t[a]);Qa(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:oo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?A(i,"pointerdown",this._onTapStart):(A(i,"mousedown",this._onTapStart),A(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(A(i,"dragover",this),A(i,"dragenter",this)),Lt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Re(this,eo())}E.prototype={constructor:E,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Je=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,v):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,n=this.options,o=n.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(s||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,m=n.filter;if(go(a),!v&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||n.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&st&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Se(c,n.draggable,a,!1),!(c&&c.animated)&&qt!==c)){if(Ze=_e(c),ut=_e(c,n.draggable),typeof m=="function"){if(m.call(this,e,c,this)){ce({sortable:t,rootEl:d,name:"filter",targetEl:c,toEl:a,fromEl:a}),pe("filter",t,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(m&&(m=m.split(",").some(function(h){if(h=Se(d,h.trim(),a,!1),h)return ce({sortable:t,rootEl:h,name:"filter",targetEl:c,fromEl:a,toEl:a}),pe("filter",t,{evt:e}),!0}),m)){o&&e.cancelable&&e.preventDefault();return}n.handle&&!Se(d,n.handle,a,!1)||this._prepareDragStart(e,s,c)}}},_prepareDragStart:function(e,t,a){var n=this,o=n.el,r=n.options,s=o.ownerDocument,c;if(a&&!v&&a.parentNode===o){var d=ee(a);if(Y=o,v=a,G=v.parentNode,Ve=v.nextSibling,qt=a,Tt=r.group,E.dragged=v,$e={target:v,clientX:(t||e).clientX,clientY:(t||e).clientY},qa=$e.clientX-d.left,Pa=$e.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,v.style["will-change"]="all",c=function(){if(pe("delayEnded",n,{evt:e}),E.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Ca&&n.nativeDraggable&&(v.draggable=!0),n._triggerDragStart(e,t),ce({sortable:n,name:"choose",originalEvent:e}),he(v,r.chosenClass,!0)},r.ignore.split(",").forEach(function(m){Ha(v,m.trim(),wi)}),A(s,"dragover",ze),A(s,"mousemove",ze),A(s,"touchmove",ze),A(s,"mouseup",n._onDrop),A(s,"touchend",n._onDrop),A(s,"touchcancel",n._onDrop),Ca&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0),pe("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(pt||Fe))){if(E.eventCanceled){this._onDrop();return}A(s,"mouseup",n._disableDelayedDrag),A(s,"touchend",n._disableDelayedDrag),A(s,"touchcancel",n._disableDelayedDrag),A(s,"mousemove",n._delayedDragTouchMoveHandler),A(s,"touchmove",n._delayedDragTouchMoveHandler),r.supportPointer&&A(s,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&wi(v),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._disableDelayedDrag),O(e,"touchend",this._disableDelayedDrag),O(e,"touchcancel",this._disableDelayedDrag),O(e,"mousemove",this._delayedDragTouchMoveHandler),O(e,"touchmove",this._delayedDragTouchMoveHandler),O(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?A(document,"pointermove",this._onTouchMove):t?A(document,"touchmove",this._onTouchMove):A(document,"mousemove",this._onTouchMove):(A(v,"dragend",this),A(Y,"dragstart",this._onDragStart));try{document.selection?Nt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ke=!1,Y&&v){pe("dragStarted",this,{evt:t}),this.nativeDraggable&&A(document,"dragover",so);var a=this.options;!e&&he(v,a.dragClass,!1),he(v,a.ghostClass,!0),E.active=this,e&&this._appendGhost(),ce({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Te){this._lastX=Te.clientX,this._lastY=Te.clientY,Ja();for(var e=document.elementFromPoint(Te.clientX,Te.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Te.clientX,Te.clientY),e!==t);)t=e;if(v.parentNode[me]._isOutsideThisEl(e),t)do{if(t[me]){var a=void 0;if(a=t[me]._onDragOver({clientX:Te.clientX,clientY:Te.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=Ba(t));Ka()}},_onTouchMove:function(e){if($e){var t=this.options,a=t.fallbackTolerance,n=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=D&&et(D,!0),s=D&&r&&r.a,c=D&&r&&r.d,d=St&&de&&Aa(de),m=(o.clientX-$e.clientX+n.x)/(s||1)+(d?d[0]-xi[0]:0)/(s||1),h=(o.clientY-$e.clientY+n.y)/(c||1)+(d?d[1]-xi[1]:0)/(c||1);if(!E.active&&!Ke){if(a&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(D){r?(r.e+=m-(_i||0),r.f+=h-(yi||0)):r={a:1,b:0,c:0,d:1,e:m,f:h};var y="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");w(D,"webkitTransform",y),w(D,"mozTransform",y),w(D,"msTransform",y),w(D,"transform",y),_i=m,yi=h,Te=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!D){var e=this.options.fallbackOnBody?document.body:Y,t=ee(v,!0,St,!0,e),a=this.options;if(St){for(de=e;w(de,"position")==="static"&&w(de,"transform")==="none"&&de!==document;)de=de.parentNode;de!==document.body&&de!==document.documentElement?(de===document&&(de=Ie()),t.top+=de.scrollTop,t.left+=de.scrollLeft):de=Ie(),xi=Aa(de)}D=v.cloneNode(!0),he(D,a.ghostClass,!1),he(D,a.fallbackClass,!0),he(D,a.dragClass,!0),w(D,"transition",""),w(D,"transform",""),w(D,"box-sizing","border-box"),w(D,"margin",0),w(D,"top",t.top),w(D,"left",t.left),w(D,"width",t.width),w(D,"height",t.height),w(D,"opacity","0.8"),w(D,"position",St?"absolute":"fixed"),w(D,"zIndex","100000"),w(D,"pointerEvents","none"),E.ghost=D,e.appendChild(D),w(D,"transform-origin",qa/parseInt(D.style.width)*100+"% "+Pa/parseInt(D.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,n=e.dataTransfer,o=a.options;if(pe("dragStart",this,{evt:e}),E.eventCanceled){this._onDrop();return}pe("setupClone",this),E.eventCanceled||(W=Ga(v),W.removeAttribute("id"),W.draggable=!1,W.style["will-change"]="",this._hideClone(),he(W,this.options.chosenClass,!1),E.clone=W),a.cloneId=Nt(function(){pe("clone",a),!E.eventCanceled&&(a.options.removeCloneOnHide||Y.insertBefore(W,v),a._hideClone(),ce({sortable:a,name:"clone"}))}),!t&&he(v,o.dragClass,!0),t?(Ft=!0,a._loopId=setInterval(a._emulateDragOver,50)):(O(document,"mouseup",a._onDrop),O(document,"touchend",a._onDrop),O(document,"touchcancel",a._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(a,n,v)),A(document,"drop",a),w(v,"transform","translateZ(0)")),Ke=!0,a._dragStartId=Nt(a._dragStarted.bind(a,t,e)),A(document,"selectstart",a),ot=!0,st&&w(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,n,o,r,s=this.options,c=s.group,d=E.active,m=Tt===c,h=s.sort,y=oe||d,T,x=this,S=!1;if(Si)return;function B(Ce,xe){pe(Ce,x,Ae({evt:e,isOwner:m,axis:T?"vertical":"horizontal",revert:r,dragRect:n,targetRect:o,canSort:h,fromSortable:y,target:a,completed:N,onMove:function(We,Ue){return kt(Y,t,v,n,We,ee(We),e,Ue)},changed:j},xe))}function L(){B("dragOverAnimationCapture"),x.captureAnimationState(),x!==y&&y.captureAnimationState()}function N(Ce){return B("dragOverCompleted",{insertion:Ce}),Ce&&(m?d._hideClone():d._showClone(x),x!==y&&(he(v,oe?oe.options.ghostClass:d.options.ghostClass,!1),he(v,s.ghostClass,!0)),oe!==x&&x!==E.active?oe=x:x===E.active&&oe&&(oe=null),y===x&&(x._ignoreWhileAnimating=a),x.animateAll(function(){B("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(a===v&&!v.animated||a===t&&!a.animated)&&(Je=null),!s.dragoverBubble&&!e.rootEl&&a!==document&&(v.parentNode[me]._isOutsideThisEl(e.target),!Ce&&ze(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function j(){ve=_e(v),Ye=_e(v,s.draggable),ce({sortable:x,name:"change",toEl:t,newIndex:ve,newDraggableIndex:Ye,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Se(a,s.draggable,t,!0),B("dragOver"),E.eventCanceled)return S;if(v.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||x._ignoreWhileAnimating===a)return N(!1);if(Ft=!1,d&&!s.disabled&&(m?h||(r=G!==Y):oe===this||(this.lastPutMode=Tt.checkPull(this,d,v,e))&&c.checkPut(this,d,v,e))){if(T=this._getDirection(e,a)==="vertical",n=ee(v),B("dragOverValid"),E.eventCanceled)return S;if(r)return G=Y,L(),this._hideClone(),B("revert"),E.eventCanceled||(Ve?Y.insertBefore(v,Ve):Y.appendChild(v)),N(!0);var M=Ai(t,s.draggable);if(!M||po(e,T,this)&&!M.animated){if(M===v)return N(!1);if(M&&t===e.target&&(a=M),a&&(o=ee(a)),kt(Y,t,v,n,a,o,e,!!a)!==!1)return L(),M&&M.nextSibling?t.insertBefore(v,M.nextSibling):t.appendChild(v),G=t,j(),N(!0)}else if(M&&fo(e,T,this)){var te=tt(t,0,s,!0);if(te===v)return N(!1);if(a=te,o=ee(a),kt(Y,t,v,n,a,o,e,!1)!==!1)return L(),t.insertBefore(v,te),G=t,j(),N(!0)}else if(a.parentNode===t){o=ee(a);var H=0,Q,J=v.parentNode!==t,q=!ro(v.animated&&v.toRect||n,a.animated&&a.toRect||o,T),R=T?"top":"left",V=Ia(a,"top","top")||Ia(v,"top","top"),P=V?V.scrollTop:void 0;Je!==a&&(Q=o[R],ft=!1,Dt=!q&&s.invertSwap||J),H=mo(e,a,o,T,q?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Dt,Je===a);var ae;if(H!==0){var le=_e(v);do le-=H,ae=G.children[le];while(ae&&(w(ae,"display")==="none"||ae===D))}if(H===0||ae===a)return N(!1);Je=a,ct=H;var ye=a.nextElementSibling,se=!1;se=H===1;var ke=kt(Y,t,v,n,a,o,e,se);if(ke!==!1)return(ke===1||ke===-1)&&(se=ke===1),Si=!0,setTimeout(co,30),L(),se&&!ye?t.appendChild(v):a.parentNode.insertBefore(v,se?ye:a),V&&Ua(V,0,P-V.scrollTop),G=v.parentNode,Q!==void 0&&!Dt&&(Pt=Math.abs(Q-ee(a)[R])),j(),N(!0)}if(t.contains(v))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){O(document,"mousemove",this._onTouchMove),O(document,"touchmove",this._onTouchMove),O(document,"pointermove",this._onTouchMove),O(document,"dragover",ze),O(document,"mousemove",ze),O(document,"touchmove",ze)},_offUpEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._onDrop),O(e,"touchend",this._onDrop),O(e,"pointerup",this._onDrop),O(e,"touchcancel",this._onDrop),O(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(ve=_e(v),Ye=_e(v,a.draggable),pe("drop",this,{evt:e}),G=v&&v.parentNode,ve=_e(v),Ye=_e(v,a.draggable),E.eventCanceled){this._nulling();return}Ke=!1,Dt=!1,ft=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ki(this.cloneId),ki(this._dragStartId),this.nativeDraggable&&(O(document,"drop",this),O(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),st&&w(document.body,"user-select",""),w(v,"transform",""),e&&(ot&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),(Y===G||oe&&oe.lastPutMode!=="clone")&&W&&W.parentNode&&W.parentNode.removeChild(W),v&&(this.nativeDraggable&&O(v,"dragend",this),wi(v),v.style["will-change"]="",ot&&!Ke&&he(v,oe?oe.options.ghostClass:this.options.ghostClass,!1),he(v,this.options.chosenClass,!1),ce({sortable:this,name:"unchoose",toEl:G,newIndex:null,newDraggableIndex:null,originalEvent:e}),Y!==G?(ve>=0&&(ce({rootEl:G,name:"add",toEl:G,fromEl:Y,originalEvent:e}),ce({sortable:this,name:"remove",toEl:G,originalEvent:e}),ce({rootEl:G,name:"sort",toEl:G,fromEl:Y,originalEvent:e}),ce({sortable:this,name:"sort",toEl:G,originalEvent:e})),oe&&oe.save()):ve!==Ze&&ve>=0&&(ce({sortable:this,name:"update",toEl:G,originalEvent:e}),ce({sortable:this,name:"sort",toEl:G,originalEvent:e})),E.active&&((ve==null||ve===-1)&&(ve=Ze,Ye=ut),ce({sortable:this,name:"end",toEl:G,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){pe("nulling",this),Y=v=G=D=Ve=W=qt=Be=$e=Te=ot=ve=Ye=Ze=ut=Je=ct=oe=Tt=E.dragged=E.ghost=E.clone=E.active=null,jt.forEach(function(e){e.checked=!0}),jt.length=_i=yi=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":v&&(this._onDragOver(e),uo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,n=0,o=a.length,r=this.options;n<o;n++)t=a[n],Se(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||vo(t));return e},sort:function(e,t){var a={},n=this.el;this.toArray().forEach(function(o,r){var s=n.children[r];Se(s,this.options.draggable,n,!1)&&(a[o]=s)},this),t&&this.captureAnimationState(),e.forEach(function(o){a[o]&&(n.removeChild(a[o]),n.appendChild(a[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Se(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var n=mt.modifyOption(this,e,t);typeof n<"u"?a[e]=n:a[e]=t,e==="group"&&Qa(a)},destroy:function(){pe("destroy",this);var e=this.el;e[me]=null,O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart),O(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Lt.splice(Lt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Be){if(pe("hideClone",this),E.eventCanceled)return;w(W,"display","none"),this.options.removeCloneOnHide&&W.parentNode&&W.parentNode.removeChild(W),Be=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Be){if(pe("showClone",this),E.eventCanceled)return;v.parentNode==Y&&!this.options.group.revertClone?Y.insertBefore(W,v):Ve?Y.insertBefore(W,Ve):Y.appendChild(W),this.options.group.revertClone&&this.animate(v,W),w(W,"display",""),Be=!1}}};function uo(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function kt(i,e,t,a,n,o,r,s){var c,d=i[me],m=d.options.onMove,h;return window.CustomEvent&&!Fe&&!pt?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=i,c.dragged=t,c.draggedRect=a,c.related=n||e,c.relatedRect=o||ee(e),c.willInsertAfter=s,c.originalEvent=r,i.dispatchEvent(c),m&&(h=m.call(d,c,r)),h}function wi(i){i.draggable=!1}function co(){Si=!1}function fo(i,e,t){var a=ee(tt(t.el,0,t.options,!0)),n=$a(t.el,t.options,D),o=10;return e?i.clientX<n.left-o||i.clientY<a.top&&i.clientX<a.right:i.clientY<n.top-o||i.clientY<a.bottom&&i.clientX<a.left}function po(i,e,t){var a=ee(Ai(t.el,t.options.draggable)),n=$a(t.el,t.options,D),o=10;return e?i.clientX>n.right+o||i.clientY>a.bottom&&i.clientX>a.left:i.clientY>n.bottom+o||i.clientX>a.right&&i.clientY>a.top}function mo(i,e,t,a,n,o,r,s){var c=a?i.clientY:i.clientX,d=a?t.height:t.width,m=a?t.top:t.left,h=a?t.bottom:t.right,y=!1;if(!r){if(s&&Pt<d*n){if(!ft&&(ct===1?c>m+d*o/2:c<h-d*o/2)&&(ft=!0),ft)y=!0;else if(ct===1?c<m+Pt:c>h-Pt)return-ct}else if(c>m+d*(1-n)/2&&c<h-d*(1-n)/2)return ho(e)}return y=y||r,y&&(c<m+d*o/2||c>h-d*o/2)?c>m+d/2?1:-1:0}function ho(i){return _e(v)<_e(i)?1:-1}function vo(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function go(i){jt.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&jt.push(a)}}function Nt(i){return setTimeout(i,0)}function ki(i){return clearTimeout(i)}Ht&&A(document,"touchmove",function(i){(E.active||Ke)&&i.cancelable&&i.preventDefault()});E.utils={on:A,off:O,css:w,find:Ha,is:function(e,t){return!!Se(e,t,e,!1)},extend:Kn,throttle:Wa,closest:Se,toggleClass:he,clone:Ga,index:_e,nextTick:Nt,cancelNextTick:ki,detectDirection:Va,getChild:tt,expando:me};E.get=function(i){return i[me]};E.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(E.utils=Ae(Ae({},E.utils),a.utils)),mt.mount(a)})};E.create=function(i,e){return new E(i,e)};E.version=Qn;var K=[],rt,Ci,Oi=!1,Ei,Ti,Xt,lt;function bo(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):this.options.supportPointer?A(document,"pointermove",this._handleFallbackAutoScroll):a.touches?A(document,"touchmove",this._handleFallbackAutoScroll):A(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):(O(document,"pointermove",this._handleFallbackAutoScroll),O(document,"touchmove",this._handleFallbackAutoScroll),O(document,"mousemove",this._handleFallbackAutoScroll)),Ma(),Mt(),Zn()},nulling:function(){Xt=Ci=rt=Oi=lt=Ei=Ti=null,K.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var n=this,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,r);if(Xt=t,a||this.options.forceAutoScrollFallback||pt||Fe||st){Di(t,this.options,s,a);var c=He(s,!0);Oi&&(!lt||o!==Ei||r!==Ti)&&(lt&&Ma(),lt=setInterval(function(){var d=He(document.elementFromPoint(o,r),!0);d!==c&&(c=d,Mt()),Di(t,n.options,d,a)},10),Ei=o,Ti=r)}else{if(!this.options.bubbleScroll||He(s,!0)===Ie()){Mt();return}Di(t,this.options,He(s,!1),!1)}}},Re(i,{pluginName:"scroll",initializeByDefault:!0})}function Mt(){K.forEach(function(i){clearInterval(i.pid)}),K=[]}function Ma(){clearInterval(lt)}var Di=Wa(function(i,e,t,a){if(e.scroll){var n=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,r=e.scrollSensitivity,s=e.scrollSpeed,c=Ie(),d=!1,m;Ci!==t&&(Ci=t,Mt(),rt=e.scroll,m=e.scrollFn,rt===!0&&(rt=He(t,!0)));var h=0,y=rt;do{var T=y,x=ee(T),S=x.top,B=x.bottom,L=x.left,N=x.right,j=x.width,M=x.height,te=void 0,H=void 0,Q=T.scrollWidth,J=T.scrollHeight,q=w(T),R=T.scrollLeft,V=T.scrollTop;T===c?(te=j<Q&&(q.overflowX==="auto"||q.overflowX==="scroll"||q.overflowX==="visible"),H=M<J&&(q.overflowY==="auto"||q.overflowY==="scroll"||q.overflowY==="visible")):(te=j<Q&&(q.overflowX==="auto"||q.overflowX==="scroll"),H=M<J&&(q.overflowY==="auto"||q.overflowY==="scroll"));var P=te&&(Math.abs(N-n)<=r&&R+j<Q)-(Math.abs(L-n)<=r&&!!R),ae=H&&(Math.abs(B-o)<=r&&V+M<J)-(Math.abs(S-o)<=r&&!!V);if(!K[h])for(var le=0;le<=h;le++)K[le]||(K[le]={});(K[h].vx!=P||K[h].vy!=ae||K[h].el!==T)&&(K[h].el=T,K[h].vx=P,K[h].vy=ae,clearInterval(K[h].pid),(P!=0||ae!=0)&&(d=!0,K[h].pid=setInterval((function(){a&&this.layer===0&&E.active._onTouchMove(Xt);var ye=K[this.layer].vy?K[this.layer].vy*s:0,se=K[this.layer].vx?K[this.layer].vx*s:0;typeof m=="function"&&m.call(E.dragged.parentNode[me],se,ye,i,Xt,K[this.layer].el)!=="continue"||Ua(K[this.layer].el,se,ye)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&y!==c&&(y=He(y,!1)));Oi=d}},30),Za=function(e){var t=e.originalEvent,a=e.putSortable,n=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var d=a||o;s();var m=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(m.clientX,m.clientY);c(),d&&!d.el.contains(h)&&(r("spill"),this.onSpill({dragEl:n,putSortable:a}))}};function qi(){}qi.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var n=tt(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:Za};Re(qi,{pluginName:"revertOnSpill"});function Pi(){}Pi.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,n=a||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Za};Re(Pi,{pluginName:"removeOnSpill"});E.mount(new bo);E.mount(Pi,qi);var _o=I('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required maxlength="45"></label></div> <div><label class="font-medium">Maximum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The maximum input length"></i> <input type="number" class="input form-input text-sm" required min="1" max="1000"></label></div> <div><label class="font-medium">Minimum length <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum input length"></i> <input type="number" class="input form-input text-sm" required min="0" max="1000"></label></div> <div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder value, such as a hint"></i> <input type="text" class="input form-input text-sm" maxlength="100"></label></div> <div><label for="required" class="font-medium">Required <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require input?"></i> <input type="checkbox" id="required" name="required" class="form-checkbox"></label></div> <div><label class="font-medium">Style <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How big should the input box be?"></i> <select class="input form-multiselect" required><option class="p-1">Short (single-line)</option><option class="p-1">Long (multi-line)</option></select></label></div> <div><label class="font-medium">Value <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A pre-filled value"></i> <textarea class="input form-input text-sm" maxlength="1000"></textarea></label></div>',1);function yo(i,e){Yt(e,!0);let t=La(e,"question",15);var a=_o(),n=be(a),o=u(n),r=f(u(o));De(r);var s=f(r,4);Z(s),l(o),l(n);var c=f(n,2),d=u(c),m=f(u(d),3);Z(m),l(d),l(c);var h=f(c,2),y=u(h),T=f(u(y),3);Z(T),l(y),l(h);var x=f(h,2),S=u(x),B=f(u(S),3);Z(B),l(S),l(x);var L=f(x,2),N=u(L),j=f(u(N),3);Z(j),l(N),l(L);var M=f(L,2),te=u(M),H=f(u(te),3),Q=u(H);Q.value=(Q.__value=1)==null?"":1;var J=f(Q);J.value=(J.__value=2)==null?"":2,l(H),l(te),l(M);var q=f(M,2),R=u(q),V=f(u(R),3);Ra(V),l(R),l(q),ie(s,()=>t().label,P=>t(t().label=P,!0)),ie(m,()=>t().maxLength,P=>t(t().maxLength=P,!0)),ie(T,()=>t().minLength,P=>t(t().minLength=P,!0)),ie(B,()=>t().placeholder,P=>t(t().placeholder=P,!0)),It(j,()=>t().required,P=>t(t().required=P,!0)),Xe(H,()=>t().style,P=>t(t().style=P,!0)),ie(V,()=>t().value,P=>t(t().value=P,!0)),C(i,a),Bt()}var xo=(i,e)=>Ln.open(OptionsModal,{id:e().id}),wo=I("<li> </li>"),Eo=I('<div><label class="font-medium">Label <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The title of the question"></i> <input type="text" class="input form-input text-sm" required maxlength="45"></label></div> <div><label class="font-medium">Maximum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many choices can be selected?"></i> <input type="number" class="input form-input text-sm" required min="1" max="25"></label></div> <div><label class="font-medium">Minimum values <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The minimum number of select choices"></i> <input type="number" class="input form-input text-sm" default="1" required min="0" max="25"></label></div> <div><div class="font-medium"> <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The options that members can choose from"></i> <button type="button" class="rounded-lg px-2 font-medium text-yellow-500 transition duration-300 hover:text-yellow-300 disabled:cursor-not-allowed dark:text-yellow-500 dark:hover:text-yellow-500/50"><i class="fa-solid fa-pencil"></i> Edit</button></div> <div><ul class="list-inside list-disc"></ul></div></div> <div><div><label class="font-medium">Placeholder <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The placeholder (label)"></i> <input type="text" class="input form-input text-sm" maxlength="150"></label></div></div>',1);function To(i,e){Yt(e,!0);let t=La(e,"question",15),a=t()._maxLength;t(t().maxLength={get maxLength(){return a},set maxLength(R){a=Math.min(25,R)}},!0);var n=Eo(),o=be(n),r=u(o),s=f(u(r));De(s);var c=f(s,4);Z(c),l(r),l(o);var d=f(o,2),m=u(d),h=f(u(m),3);Z(h),l(m),l(d);var y=f(d,2),T=u(y),x=f(u(T),3);Z(x),l(T),l(y);var S=f(y,2),B=u(S),L=u(B),N=f(L);De(N);var j=f(N,4);j.__click=[xo,t],l(B);var M=f(B,2),te=u(M);qe(te,21,()=>t().options,Pe,(R,V)=>{var P=wo(),ae=u(P,!0);l(P),re(()=>ue(ae,g(V).label)),C(R,P)}),l(te),l(M),l(S);var H=f(S,2),Q=u(H),J=u(Q),q=f(u(J),3);Z(q),l(J),l(Q),l(H),re(()=>ue(L,`Options (${t().options.length??""}/25) `)),ie(c,()=>t().label,R=>t(t().label=R,!0)),ie(h,()=>t().maxLength,R=>t(t().maxLength=R,!0)),ie(x,()=>t().minLength,R=>t(t().minLength=R,!0)),ie(q,()=>t().placeholder,R=>t(t().placeholder=R,!0)),C(i,n),Bt()}Ii(["click"]);var Do=(i,e,t)=>e(g(t)),So=I('<i class="fa-solid fa-spinner animate-spin"></i>'),ko=I('<i class="fa-solid fa-xmark"></i>'),Co=(i,e,t)=>ge(e,Oe(g(e)===g(t).id?null:g(t).id)),Oo=(i,e)=>{g(e).type==="TEXT"?g(e).maxLength=1e3:g(e).type==="MENU"&&(g(e).maxLength=1)},Io=I('<div class="my-4 text-sm"><div class="grid grid-cols-1 gap-3"><div><label class="font-medium">Type <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What type of input should the question use?"></i> <select class="input form-multiselect text-sm" required><option class="p-1" default disabled>Select an input type</option><option class="p-1">Text</option><option class="p-1" disabled title="Disabled until supported by Discord">Select menu</option></select></label></div> <!></div></div>'),Ao=I('<div class="list-group-item rounded-xl bg-gray-100/50 p-4 dark:bg-slate-800/50"><div class="w-full"><div class="flex items-center gap-2 md:gap-4"><i class="handle fa-solid fa-grip-vertical cursor-move text-gray-500 dark:text-slate-400"></i> <div class="w-full"> <button type="button" class="text-red-300 transition duration-300 hover:text-red-500 disabled:cursor-not-allowed dark:text-red-500/50 dark:hover:text-red-500" title="Remove"><!></button> <button type="button" class="flex w-full cursor-pointer select-none justify-between font-medium text-gray-500 transition duration-300 hover:text-blurple dark:text-slate-400 dark:hover:text-blurple"><span class="text-sm"> </span> <i></i></button></div></div> <!></div></div>'),qo=I('<div class="list-group flex flex-col gap-2"></div>');function Po(i,e){Yt(e,!0);const t=Mn(),a=()=>Rn(Fn,"$page",t);let n=Ne(Oe({})),o=Ne(null),r=Ne(void 0);Fa(()=>{E.create(g(r),{animation:300,handle:".handle",dragClass:"dragged",swapThreshold:.5,dataIdAttr:"data-id",store:{get:()=>z.questions.sort((m,h)=>m.order-h.order),set:d=>{d.toArray().forEach((h,y)=>z.questions.find(T=>T.id===h).order=y)}}})});const s=async d=>{if(d._real!==!1){if(!confirm("Are you sure? This will delete all responses."))return!1;g(n)[d.id]=!0;const y=`/api/admin/guilds/${a().params.guild}/categories/${a().params.category}/questions/${d.id}`,T=await fetch(y,{credentials:"include",method:"DELETE"});if(g(n)[d.id]=!1,!T.ok){const x=await T.json();console.log(x);return}}const m=z.questions.findIndex(h=>d.id===h.id);z.questions.splice(m,1),ge(n,!1)};var c=qo();qe(c,21,()=>z.questions,Pe,(d,m,h)=>{var y=Ao(),T=u(y),x=u(T),S=f(u(x),2),B=u(S),L=f(B);L.__click=[Do,s,m];var N=u(L);$(N,()=>g(n)[g(m).id],J=>{var q=So();C(J,q)},J=>{var q=ko();C(J,q)}),l(L);var j=f(L,2);j.__click=[Co,o,m];var M=u(j),te=u(M);l(M);var H=f(M,2);l(j),l(S),l(x);var Q=f(x,2);$(Q,()=>g(o)===g(m).id,J=>{var q=Io(),R=u(q),V=u(R),P=u(V),ae=f(u(P));De(ae);var le=f(ae,4);le.__change=[Oo,m];var ye=u(le);ye.value=(ye.__value=null)==null?"":null;var se=f(ye);se.value=(se.__value="TEXT")==null?"":"TEXT";var ke=f(se);ke.value=(ke.__value="MENU")==null?"":"MENU",l(le),l(P),l(V);var Ce=f(V,2);$(Ce,()=>g(m).type==="TEXT",xe=>{yo(xe,{get question(){return z.questions[h]},set question(Le){z.questions[h]=Le}})},xe=>{var Le=Ct(),We=be(Le);$(We,()=>g(m).type==="MENU",Ue=>{To(Ue,{get question(){return z.questions[h]},set question(ht){z.questions[h]=ht}})},null,!0),C(xe,Le)}),l(R),l(q),Xe(le,()=>g(m).type,xe=>g(m).type=xe),C(J,q)}),l(T),l(y),re(()=>{Ot(y,"data-id",g(m).id),ue(B,`${g(m).label??""} `),L.disabled=g(n)[g(m).id],ue(te,`Click to ${(g(o)===g(m).id?"collapse":"expand")??""}`),Nn(H,`fa-solid ${(g(o)===g(m).id?"fa-angle-up":"fa-angle-down")??""} self-end text-xl`)}),C(d,y)}),l(c),qn(c,d=>ge(r,d),()=>g(r)),C(i,c),Bt()}Ii(["click","change"]);const No=async(i,e,t,a)=>{try{if(!confirm(`Are you sure?
This will delete all associated tickets (including messages, feedback, etc).`))return!1;ge(e,!0);const o=await fetch(t,{method:"DELETE",credentials:"include"}),r=await o.json();if(o.ok)window.location="./";else throw r}catch(n){ge(e,!1),ge(a,Oe(n)),window.scroll({top:0,behavior:"smooth"})}};var Mo=(i,e)=>ge(e,!0),Ro=I('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <div class="block w-full break-words rounded-md bg-blurple/20 p-3 font-mono text-sm shadow-sm dark:bg-blurple/20"><i class="fa-solid fa-hashtag text-gray-500 dark:text-slate-400"></i> <span class="marked"><!></span></div>',1),Fo=I("<option>Create a new category</option> <hr>",1),Lo=I('<option class="p-1"> </option>'),jo=I(" ",1),Xo=I("<!> <discord-mention> </discord-mention>",3),Yo=I("<!> , <br>",1),Bo=I("<discord-embed-fields><discord-embed-field>This is a pretty good preview</discord-embed-field></discord-embed-fields>",2),Ho=I("<discord-embed-footer> </discord-embed-footer>",2),Wo=I("<discord-button>✏️ Edit</discord-button>",2),Uo=I("<discord-button>🙌 Claim</discord-button>",2),Go=I("<discord-button>✖️ Close</discord-button>",2),$o=I('<p class="mb-1 mt-2 text-sm font-semibold">Preview</p> <discord-messages><discord-message><!> <discord-mention> </discord-mention> has created a new ticket <discord-embed><discord-embed-description><!></discord-embed-description> <!> <!></discord-embed> <discord-attachments><discord-action-row><!> <!> <!></discord-action-row></discord-attachments></discord-message></discord-messages>',3),zo=I('<option class="m-1 rounded p-1"> </option>'),Vo=I('<option class="p-1"> </option>'),Qo=I('<option class="m-1 rounded p-1"> </option>'),Jo=I('<option class="m-1 rounded p-1"> </option>'),Ko=I('<option class="p-1"> </option>'),Zo=I(`<div><label class="font-medium">Custom topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which question's value should be used as the ticket topic?"></i> <select class="input form-multiselect font-normal"><option class="p-1">None</option><hr><!></select></label></div>`),er=I('<div class="text-center"><button type="button" class="rounded-lg p-2 px-5 font-medium text-green-500 transition duration-300 hover:text-green-300 disabled:cursor-not-allowed dark:text-green-500 dark:hover:text-green-500/50"><i class="fa-solid fa-circle-plus"></i> Add</button></div>'),tr=I('<i class="fa-solid fa-spinner animate-spin"></i>'),ir=I('<i class="fa-solid fa-trash"></i>'),ar=I('<button type="button" class="mt-4 rounded-lg bg-red-300 p-2 px-5 font-medium transition duration-300 hover:bg-red-500 hover:text-white disabled:cursor-not-allowed dark:bg-red-500/50 dark:hover:bg-red-500 dark:hover:text-white"><!> Delete</button>'),nr=I('<i class="fa-solid fa-spinner animate-spin"></i>'),or=I(`<div class="mb-8 text-center text-orange-600 dark:text-orange-400"><p><i class="fa-solid fa-triangle-exclamation"></i> <a href="https://discordtickets.app/configuration/categories" class="font-semibold hover:underline">Read the documentation</a> to avoid problems.</p></div> <h1 class="m-4 text-center text-4xl font-bold">Categories</h1> <h2 class="m-4 text-center text-2xl font-semibold text-gray-500 dark:text-slate-400"> </h2> <div class="m-2 mx-auto max-w-5xl p-4 text-lg"><!> <form class="my-4"><div class="grid grid-cols-1 gap-6 md:grid-cols-2 md:gap-12"><div class="grid grid-cols-1 gap-8"><div><label class="font-medium">Name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of the category"></i> <input type="text" class="input form-input" required></label></div> <div><label class="font-medium">Channel name <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The name of ticket channels"></i> <input type="text" class="input form-input"${Pn("placeholder","ticket-{num}")}></label> <!></div> <div><label for="claiming" class="font-medium">Claiming <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Allow staff to claim tickets?"></i> <input type="checkbox" id="claiming" name="claiming" class="form-checkbox"></label></div> <div><label class="font-medium">Cooldown <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How long should members have to wait before creating another ticket?"></i> <input type="text" class="input form-input"></label></div> <div><label class="font-medium">Description <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="What is this category for?"></i> <input type="text" class="input form-input" required></label></div> <div><label class="font-medium">Discord category <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Which category channel should ticket channels be created under?"></i> <select class="input form-multiselect" required><!><!></select></label></div> <div><label class="font-medium">Emoji <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Emoji used for buttons &amp; dropdowns"></i> <span class="text-2xl"> </span> <input type="text" class="input form-input" required></label></div> <div><label for="enableFeedback" class="font-medium">Feedback <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Gather feedback from members?"></i> <input type="checkbox" id="enableFeedback" name="enableFeedback" class="form-checkbox"></label></div> <div><label class="font-medium">Image <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="A link to an image to be sent with the opening message."></i> <input type="url" class="input form-input"></label></div> <div><label class="font-medium">Member limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="How many tickets in this category can each member have open?"></i> <input type="number" min="1" max="10" class="input form-input"></label></div> <div><label class="font-medium">Opening message <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Content to be sent in the opening message of each ticket."></i> <textarea class="input form-input" required rows="4" maxlength="1000"></textarea></label> <!></div> <div><label class="font-medium">Ping roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that should be pinged upon ticket creation."></i> <select multiple class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Slow mode <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Should slow mode be enabled?"></i> <select class="input form-multiselect font-normal"><option class="p-1">Off</option><!></select></label></div> <div><label class="font-medium">Required roles <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that a user needs to create a ticket."></i> <select multiple class="input form-multiselect h-44 font-normal"></select></label></div> <div><label for="requireTopic" class="font-medium">Require topic <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Require a topic before ticket creation?"></i> <input type="checkbox" id="requireTopic" name="requireTopic" class="form-checkbox"></label></div> <div><label class="font-medium">Staff roles <!> <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="Roles that will be able to view tickets."></i> <select multiple required class="input form-multiselect h-44 font-normal"></select></label></div> <div><label class="font-medium">Total limit <i class="fa-solid fa-circle-question cursor-help text-gray-500 dark:text-slate-400" title="The total number of tickets that can be open at once."></i> <input type="number" min="1" max="50" class="input form-input"></label></div></div> <div><div class="rounded-xl bg-white p-4 shadow-sm dark:bg-slate-700"><div class="flex flex-col gap-4"><div class="text-center"><h3 class="text-xl font-bold">Questions</h3> <p class="text-gray-500 dark:text-slate-400"> </p></div> <!> <div><!></div> <!></div></div> <div class="flex justify-end gap-4"><!> <button type="submit" class="mt-4 rounded-lg bg-green-300 p-2 px-5 font-medium transition duration-300 hover:bg-green-500 hover:text-white disabled:cursor-not-allowed dark:bg-green-500/50 dark:hover:bg-green-500 dark:hover:text-white"><!> Submit</button></div></div></div></form></div>`,1);function Rr(i,e){Yt(e,!0);let t=Ne(!1);jn(p=>{g(t)&&!confirm("You have unsaved changes; are you sure you want to leave?")&&p.cancel()}),Fa(async()=>{const{applyPolyfills:p,defineCustomElements:b}=await yn(async()=>{const{applyPolyfills:_,defineCustomElements:k}=await import("../chunks/index.CkTiq4yC.js").then(X=>X.i);return{applyPolyfills:_,defineCustomElements:k}},__vite__mapDeps([0,1]),import.meta.url);p().then(()=>{b()}),window.addEventListener("beforeunload",_=>{g(t)&&(_.preventDefault(),_.returnValue="")})});let a=e.data,n=Oe(a.category),o=Ne(Oe(a.channels)),r=Ne(Oe(a.roles)),s=Oe(a.url);const c=["5s","10s","15s","30s","1m","2m","5m","10m","15m","30m","1h","2h","6h"];z.questions=n.questions,ge(o,Oe(g(o).filter(p=>p.type===4))),ge(r,Oe(g(r).filter(p=>p.name!=="@everyone").sort((p,b)=>b.rawPosition-p.rawPosition))),g(r).forEach(p=>{p._hexColor=p.color>0?`#${p.color.toString(16).padStart(6,"0")}`:null,p._style=p._hexColor?`color: ${p._hexColor}`:""}),n.cooldown=n.cooldown?nt(n.cooldown):"";let d=Ne(null),m=Ne(!1),h=Ne(!1);const y=async()=>{try{ge(m,!0);const p={...n};if(n.discordCategory==="new"&&(p.discordCategory=null),p.cooldown=n.cooldown?nt(n.cooldown):null,p.name.length>30)throw new Error(`The name is too long (${p.name.length}>30).`);if(p.description.length>100)throw new Error(`The description is too long (${p.description.length}>100).`);p.questions=z.questions.map(k=>{if(k.type==="TEXT"){if(k.value.length>0&&k.value.length<k.minLength)throw`The value of the "${k.label}" question is shorter than the minimum length.`;if(k.value.length>k.maxLength)throw`The value of the "${k.label}" question is longer than the maximum length.`}return delete k._real,k}),p.questions.find(k=>k.id===p.customTopic)===void 0&&(p.customTopic=null);const b=await fetch(s,{method:n.id?"PATCH":"POST",body:JSON.stringify(p),credentials:"include",headers:{"Content-Type":"application/json; charset=UTF-8"}}),_=await b.json();if(b.ok)ge(t,!1),window.location="./";else throw _}catch(p){ge(m,!1),ge(d,Oe(p)),window.scroll({top:0,behavior:"smooth"})}},T=p=>g(r).find(b=>b.id===p);wa(()=>{n.customTopic=z.questions.find(p=>p.id===n.customTopic)?n.customTopic:null}),wa(()=>{n.requireTopic=z.questions.length>0?!1:n.requireTopic});var x=or(),S=f(be(x),4),B=u(S);re(()=>ue(B,`${Ea.get(n.emoji)??""??""}
	${(n.name||"New category")??""}`)),l(S);var L=f(S,2),N=u(L);$(N,()=>g(d),p=>{Xn(p,{get error(){return g(d)}})});var j=f(N,2),M=ya(()=>An(()=>y()));j.__change=[Mo,t];var te=u(j),H=u(te),Q=u(H),J=u(Q),q=f(u(J));De(q);var R=f(q,4);Z(R),l(J),l(Q);var V=f(Q,2),P=u(V),ae=f(u(P));$(ae,()=>n.id,p=>{De(p)});var le=f(ae,4);Z(le),l(P);var ye=f(P,2);$(ye,()=>n.channelName,p=>{var b=Ro(),_=f(be(b),2),k=f(u(_),2),X=u(k);xa(X,()=>Ta.parse(n.channelName.replace(/\n/g,`

`)).replace(/{+\s?num(ber)?\s?}+/gi,1).replace(/{+\s?(nick|display)(name)?\s?}+/gi,_a("user").username).replace(/{+\s?(user)?name\s?}+/gi,_a("user").username)),l(k),l(_),C(p,b)}),l(V);var se=f(V,2),ke=u(se),Ce=f(u(ke),3);Z(Ce),l(ke),l(se);var xe=f(se,2),Le=u(xe),We=f(u(Le),3);Z(We),l(Le),l(xe);var Ue=f(xe,2),ht=u(Ue),Ni=f(u(ht));De(Ni);var Mi=f(Ni,4);Z(Mi),l(ht),l(Ue);var Wt=f(Ue,2),Ri=u(Wt),Fi=f(u(Ri));De(Fi);var Ut=f(Fi,4),Li=u(Ut);$(Li,()=>!n.discordCategory||n.discordCategory==="new",p=>{var b=Fo(),_=be(b);_.value=(_.__value="new")==null?"":"new",wt(2),C(p,b)});var en=f(Li);qe(en,17,()=>g(o),Pe,(p,b)=>{var _=Lo(),k={},X=u(_,!0);l(_),re(()=>{k!==(k=g(b).id)&&(_.value=(_.__value=g(b).id)==null?"":g(b).id),ue(X,g(b).name)}),C(p,_)}),l(Ut),l(Ri),l(Wt);var Gt=f(Wt,2),ji=u(Gt),Xi=f(u(ji));De(Xi);var $t=f(Xi,4),tn=u($t,!0);re(()=>ue(tn,Ea.get(n.emoji)??"")),l($t);var Yi=f($t,2);Z(Yi),l(ji),l(Gt);var zt=f(Gt,2),Bi=u(zt),Hi=f(u(Bi),3);Z(Hi),l(Bi),l(zt);var Vt=f(zt,2),Wi=u(Vt),Ui=f(u(Wi),3);Z(Ui),l(Wi),l(Vt);var Qt=f(Vt,2),Gi=u(Qt),$i=f(u(Gi),3);Z($i),l(Gi),l(Qt);var Jt=f(Qt,2),Kt=u(Jt),zi=f(u(Kt));De(zi);var Vi=f(zi,4);Ra(Vi),l(Kt);var an=f(Kt,2);Da(an,()=>n.pingRoles,p=>{var b=Ct(),_=be(b);Da(_,()=>n.requireTopic,k=>{var X=Ct(),mi=be(X);$(mi,()=>n.openingMessage,it=>{var Ge=$o(),we=f(be(Ge),2);F(we,"no-background",!0),F(we,"class","bloc w-full border-0");var Ee=u(we);F(Ee,"bot",!0),re(()=>F(Ee,"timestamp",`Today at ${new Date().toLocaleTimeString("default",{hour:"numeric",minute:"numeric"})}`)),F(Ee,"class","py-2"),F(Ee,"highlight",!0);var vt=u(Ee);$(vt,()=>{var fe;return((fe=n.pingRoles)==null?void 0:fe.length)>0},fe=>{var U=Yo(),at=be(U);qe(at,17,()=>n.pingRoles,Pe,(pn,mn,hn)=>{var ha=Ct();const vi=ya(()=>T(g(mn)));var vn=be(ha);$(vn,()=>g(vi),gn=>{var va=Xo(),ga=be(va);$(ga,()=>hn>0,yt=>{var xt=jo();C(yt,xt)});var _t=f(ga,2);F(_t,"type","role");var bn=u(_t,!0);l(_t),re(()=>{var yt,xt;F(_t,"color",(yt=g(vi))==null?void 0:yt._hexColor),ue(bn,(xt=g(vi))==null?void 0:xt.name)}),C(gn,va)}),C(pn,ha)}),wt(2),C(fe,U)});var gt=f(vt,2);F(gt,"highlight",!0);var dn=u(gt,!0);l(gt);var je=f(gt,2);F(je,"slot","embeds");var bt=u(je);F(bt,"slot","description");var un=u(bt);xa(un,()=>Ta.parse(n.openingMessage).replace(/{+\s?(user)?name\s?}+/gi,`<discord-mention>${e.data.user.username}</discord-mention>`).replace(/{+\s?avgResponseTime\s?}+/gi,e.data.guild.stats.avgResponseTime).replace(/{+\s?avgResolutionTime\s?}+/gi,e.data.guild.stats.avgResolutionTime)),l(bt);var ca=f(bt,2);$(ca,()=>n.requireTopic,fe=>{var U=Bo();F(U,"slot","fields");var at=u(U);F(at,"field-title","Topic"),l(U),C(fe,U)});var cn=f(ca,2);$(cn,()=>e.data.settings.footer,fe=>{var U=Ho();F(U,"slot","footer");var at=u(U,!0);l(U),re(()=>{F(U,"footer-image",e.data.client.avatar),ue(at,e.data.settings.footer)}),C(fe,U)}),l(je);var hi=f(je,2);F(hi,"slot","components");var fa=u(hi),pa=u(fa);$(pa,()=>n.requireTopic||z.questions.length>0,fe=>{var U=Wo();F(U,"type","secondary"),C(fe,U)});var ma=f(pa,2);$(ma,()=>n.claiming&&e.data.settings.claimButton,fe=>{var U=Uo();F(U,"type","secondary"),C(fe,U)});var fn=f(ma,2);$(fn,()=>e.data.settings.closeButton,fe=>{var U=Go();F(U,"type","destructive"),C(fe,U)}),l(fa),l(hi),l(Ee),l(we),re(()=>{F(we,"light-theme",e.data.theme!=="dark"),F(Ee,"author",e.data.client.username),F(Ee,"avatar",e.data.client.avatar),ue(dn,e.data.user.username),F(je,"color",e.data.settings.primaryColour),F(je,"author-image",`https://cdn.discordapp.com/avatars/${e.data.user.id}/${e.data.user.avatar}.webp`),F(je,"author-name",e.data.user.username),F(je,"image",n.image)}),C(it,Ge)}),C(k,X)}),C(p,b)}),l(Jt);var Zt=f(Jt,2),Qi=u(Zt),ei=f(u(Qi),3);qe(ei,21,()=>g(r),Pe,(p,b)=>{var _=zo(),k={},X=u(_);l(_),re(()=>{k!==(k=g(b).id)&&(_.value=(_.__value=g(b).id)==null?"":g(b).id),Ot(_,"style",g(b)._style),ue(X,`${(g(b).unicodeEmoji||"")??""}
									${g(b).name??""}`)}),C(p,_)}),l(ei),l(Qi),l(Zt);var ti=f(Zt,2),Ji=u(ti),ii=f(u(Ji),3),ai=u(ii);ai.value=(ai.__value=null)==null?"":null;var nn=f(ai);qe(nn,17,()=>c,Pe,(p,b)=>{var _=Vo(),k={},X=u(_,!0);l(_),re(()=>{k!==(k=nt(g(b))/1e3)&&(_.value=(_.__value=nt(g(b))/1e3)==null?"":nt(g(b))/1e3),ue(X,g(b))}),C(p,_)}),l(ii),l(Ji),l(ti);var ni=f(ti,2),Ki=u(ni),oi=f(u(Ki),3);qe(oi,21,()=>g(r),Pe,(p,b)=>{var _=Qo(),k={},X=u(_);l(_),re(()=>{k!==(k=g(b).id)&&(_.value=(_.__value=g(b).id)==null?"":g(b).id),Ot(_,"style",g(b)._style),ue(X,`${(g(b).unicodeEmoji||"")??""}
									${g(b).name??""}`)}),C(p,_)}),l(oi),l(Ki),l(ni);var ri=f(ni,2),Zi=u(ri),li=f(u(Zi),3);Z(li),l(Zi),l(ri);var si=f(ri,2),ea=u(si),ta=f(u(ea));De(ta);var di=f(ta,4);qe(di,21,()=>g(r),Pe,(p,b)=>{var _=Jo(),k={},X=u(_);l(_),re(()=>{k!==(k=g(b).id)&&(_.value=(_.__value=g(b).id)==null?"":g(b).id),Ot(_,"style",g(b)._style),ue(X,`${(g(b).unicodeEmoji||"")??""}
									${g(b).name??""}`)}),C(p,_)}),l(di),l(ea),l(si);var ia=f(si,2),aa=u(ia),na=f(u(aa),3);Z(na),l(aa),l(ia),l(H);var oa=f(H,2),ui=u(oa),ra=u(ui),ci=u(ra),la=f(u(ci),2),on=u(la);l(la),l(ci);var sa=f(ci,2);$(sa,()=>z.questions.length>0,p=>{var b=Zo(),_=u(b),k=f(u(_),3),X=u(k);X.value=(X.__value=null)==null?"":null;var mi=f(X,2);qe(mi,17,()=>z.questions,Pe,(it,Ge)=>{var we=Ko(),Ee={},vt=u(we,!0);l(we),re(()=>{Ee!==(Ee=g(Ge).id)&&(we.value=(we.__value=g(Ge).id)==null?"":g(Ge).id),ue(vt,g(Ge).label)}),C(it,we)}),l(k),l(_),l(b),Xe(k,()=>n.customTopic,it=>n.customTopic=it),C(p,b)});var fi=f(sa,2),rn=u(fi);Po(rn,{}),l(fi);var ln=f(fi,2);$(ln,()=>z.questions.length<5,p=>{var b=er(),_=u(b);_.__click=()=>{z.questions.push({id:Gn(),label:`Question ${z.questions.length+1}`,maxLength:1e3,minLength:0,options:[],order:z.questions.length,placeholder:"",required:!0,style:2,type:null,value:"",_real:!1})},l(b),C(p,b)}),l(ra),l(ui);var da=f(ui,2),ua=u(da);$(ua,()=>n.id,p=>{var b=ar();b.__click=[No,h,s,d];var _=u(b);$(_,()=>g(h),k=>{var X=tr();C(k,X)},k=>{var X=ir();C(k,X)}),wt(),l(b),re(()=>b.disabled=g(h)),C(p,b)});var pi=f(ua,2),sn=u(pi);$(sn,()=>g(m),p=>{var b=nr();C(p,b)}),wt(),l(pi),l(da),l(oa),l(te),l(j),l(L),re(()=>{le.required=!!n.id,li.disabled=z.questions.length>0,ue(on,`${z.questions.length??""}/5`),pi.disabled=g(m)}),In("submit",j,function(...p){var b;(b=g(M))==null||b.apply(this,p)}),ie(R,()=>n.name,p=>n.name=p),ie(le,()=>n.channelName,p=>n.channelName=p),It(Ce,()=>n.claiming,p=>n.claiming=p),ie(We,()=>n.cooldown,p=>n.cooldown=p),ie(Mi,()=>n.description,p=>n.description=p),Xe(Ut,()=>n.discordCategory,p=>n.discordCategory=p),ie(Yi,()=>n.emoji,p=>n.emoji=p),It(Hi,()=>n.enableFeedback,p=>n.enableFeedback=p),ie(Ui,()=>n.image,p=>n.image=p),ie($i,()=>n.memberLimit,p=>n.memberLimit=p),ie(Vi,()=>n.openingMessage,p=>n.openingMessage=p),Xe(ei,()=>n.pingRoles,p=>n.pingRoles=p),Xe(ii,()=>n.ratelimit,p=>n.ratelimit=p),Xe(oi,()=>n.requiredRoles,p=>n.requiredRoles=p),It(li,()=>n.requireTopic,p=>n.requireTopic=p),Xe(di,()=>n.staffRoles,p=>n.staffRoles=p),ie(na,()=>n.totalLimit,p=>n.totalLimit=p),C(i,x),Bt()}Ii(["change","click"]);export{Rr as component,Mr as universal};
