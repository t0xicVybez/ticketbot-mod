import{e as ia}from"../chunks/index.g5YcAAdQ.js";import"../chunks/disclose-version.Bg9kRutz.js";import{p as da,b as la,d as oa,s as e,c as a,g as U,t as w,a as na,r as t}from"../chunks/runtime.D2_qJMqH.js";import{s as i}from"../chunks/render.DYyZBxIN.js";import{i as ca}from"../chunks/if.DQDEx0g4.js";import{e as ga,i as va}from"../chunks/each.DhYb_c6Z.js";import{h as pa}from"../chunks/html.BiDgUgRj.js";import{t as j,a as T}from"../chunks/template.-1lJmaN6.js";import{s as d}from"../chunks/attributes.HKi8Fu_N.js";import{p as ma}from"../chunks/proxy.CdfeBWYI.js";import{o as xa}from"../chunks/index-client.BK-sKD8p.js";async function fa({fetch:m,params:g}){var c;const s={credentials:"include"},l=await m(`/api/admin/guilds/${g.guild}`,s),v=(c=l.headers.get("Content-Type"))==null?void 0:c.includes("json"),p=v?await l.json():await l.text();if(!l.ok)ia(l.status,v?JSON.stringify(p):p);else return{guild:p,problems:await(await m(`/api/admin/guilds/${g.guild}/problems`,s)).json()}}const Sa=Object.freeze(Object.defineProperty({__proto__:null,load:fa},Symbol.toStringTag,{value:"Module"}));var ba=j('<div class="m-4"><div class="rounded-xl border-2 border-orange-600 bg-orange-400/20 p-2 font-medium text-orange-600 dark:border-orange-400 dark:bg-orange-500/20 dark:text-orange-400"><i class="fa-solid fa-triangle-exclamation float-left mr-2 text-2xl"></i> <!></div></div>'),_a=j('<div class="m-4"><a><div class="link rounded-xl border-2 border-blurple bg-blurple/20 p-2 font-medium"><i class="fa-solid fa-circle-info float-left text-2xl"></i> Create a category to get started <i class="fa-solid fa-arrow-right-long"></i></div></a></div>'),ua=j('<div class="grid grid-cols-1 gap-12 md:grid-cols-2"><div class="text-center"><!> <!> <div class="grid grid-cols-2 gap-4 sm:grid-cols-3"><a class="link rounded-xl bg-gray-100 p-4 shadow-sm dark:bg-slate-800"><i class="fas fa-gears mb-4 text-4xl"></i> <p class="text-center text-lg font-semibold">General</p></a> <a class="link rounded-xl bg-gray-100 p-4 shadow-sm dark:bg-slate-800"><i class="fas fa-list mb-4 text-4xl"></i> <p class="text-center text-lg font-semibold">Categories</p></a> <a class="link rounded-xl bg-gray-100 p-4 shadow-sm dark:bg-slate-800"><i class="fas fa-sliders mb-4 text-4xl"></i> <p class="text-center text-lg font-semibold">Panels</p></a> <a class="link rounded-xl bg-gray-100 p-4 shadow-sm dark:bg-slate-800"><i class="fas fa-comments mb-4 text-4xl"></i> <p class="text-center text-lg font-semibold">Feedback</p></a> <a class="link rounded-xl bg-gray-100 p-4 shadow-sm dark:bg-slate-800"><i class="fas fa-tags mb-4 text-4xl"></i> <p class="text-center text-lg font-semibold">Tags</p></a> <a class="rounded-xl bg-red-300 p-4 shadow-sm transition duration-300 hover:bg-red-500 dark:bg-red-500/20 dark:hover:bg-red-500"><i class="fas fa-triangle-exclamation mb-4 text-4xl"></i> <p class="text-center text-lg font-semibold">Reset</p></a></div></div> <div><div class="rounded-xl bg-white p-4 shadow-sm dark:bg-slate-700"><div class="flex items-center justify-center gap-4 rounded-xl bg-gray-100 p-4 shadow-sm dark:bg-slate-800"><img alt="" class="h-12 rounded-full"> <p><span class="text-2xl font-bold"> </span> <br> <span class="text-gray-500 dark:text-slate-400"><i class="fa-solid fa-calendar-days"></i> </span></p></div> <div class="m-4 grid grid-cols-2 gap-4 sm:grid-cols-3"><div><h6 class="font-semibold">Resolution time</h6> <p class="text-gray-500 dark:text-slate-400"> </p></div> <div><h6 class="font-semibold">Response time</h6> <p class="text-gray-500 dark:text-slate-400"> </p></div> <div><h6 class="font-semibold">Categories</h6> <p class="text-gray-500 dark:text-slate-400"> </p></div> <div><h6 class="font-semibold">Tags</h6> <p class="text-gray-500 dark:text-slate-400"> </p></div> <div><h6 class="font-semibold">Tickets</h6> <p class="text-gray-500 dark:text-slate-400"> </p></div> <div><h6 class="font-semibold">Most used category</h6> <p class="text-gray-500 dark:text-slate-400"> </p></div></div></div></div></div>');function Aa(m,g){da(g,!0);const{guild:s,problems:l}=g.data;let v=oa("");xa(()=>{la(v,ma(new Intl.DateTimeFormat("default").format(new Date(s.createdAt))))});const p=r=>{switch(r.id){case"logChannelMissingPermission":return`Please give the bot <span class="font-mono">${r.permission}</span> permission in the log channel.`}};var c=ua(),x=a(c),C=a(x);ga(C,17,()=>l,va,(r,o)=>{var n=ba(),Q=a(n),ra=e(a(Q),2);pa(ra,()=>p(U(o))),t(Q),t(n),T(r,n)});var O=e(C,2);ca(O,()=>s.stats.categories.length===0,r=>{var o=_a(),n=a(o);t(o),w(()=>d(n,"href",s.id+"/categories/new")),T(r,o)});var P=e(O,2),R=a(P),M=e(R,2),S=e(M,2),A=e(S,2),N=e(A,2),V=e(N,2);t(P),t(x);var D=e(x,2),F=a(D),f=a(F),J=a(f),$=e(J,2),b=a($),W=a(b,!0);t(b);var z=e(b,4),X=e(a(z));t(z),t($),t(f);var G=e(f,2),_=a(G),I=e(a(_),2),Y=a(I,!0);t(I),t(_);var u=e(_,2),q=e(a(u),2),Z=a(q,!0);t(q),t(u);var h=e(u,2),B=e(a(h),2),aa=a(B,!0);t(B),t(h);var k=e(h,2),E=e(a(k),2),ta=a(E,!0);t(E),t(k);var y=e(k,2),H=e(a(y),2),ea=a(H,!0);t(H),t(y);var K=e(y,2),L=e(a(K),2),sa=a(L,!0);w(()=>{var r;return i(sa,((r=s.stats.categories.sort((o,n)=>n.tickets-o.tickets)[0])==null?void 0:r.name)??"None")}),t(L),t(K),t(G),t(F),t(D),t(c),w(()=>{d(R,"href",s.id+"/general"),d(M,"href",s.id+"/categories"),d(S,"href",s.id+"/panels"),d(A,"href",s.id+"/feedback"),d(N,"href",s.id+"/tags"),d(V,"href",s.id+"/reset"),d(J,"src",s.logo),i(W,s.name),i(X,` Added on
						${U(v)??""}`),i(Y,s.stats.avgResolutionTime),i(Z,s.stats.avgResponseTime),i(aa,s.stats.categories.length),i(ta,s.stats.tags),i(ea,s.stats.tickets)}),T(m,c),na()}export{Aa as component,Sa as universal};
