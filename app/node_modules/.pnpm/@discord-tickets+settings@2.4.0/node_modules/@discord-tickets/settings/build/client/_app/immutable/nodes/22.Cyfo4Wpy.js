import"../chunks/disclose-version.Bg9kRutz.js";import{p as $,s as w,f as E,g as i,d as _,c as l,b as c,t as L,a as A,h as C,r as p}from"../chunks/runtime.D2_qJMqH.js";import{d as D}from"../chunks/utils.Dghph3y9.js";import{t as f,a as m}from"../chunks/template.-1lJmaN6.js";import{i as k}from"../chunks/if.DQDEx0g4.js";import{p as R}from"../chunks/proxy.CdfeBWYI.js";import{s as T,a as j}from"../chunks/store.B-TJ19st.js";import{p as B}from"../chunks/stores.DEmN4aYk.js";import{E as F}from"../chunks/ErrorBox.CbGQpU3f.js";const I=async(u,r,d,g)=>{try{if(!confirm("CONFIRM: Are you sure you want to permanently erase ALL guild data?"))return!1;c(r,!0);const t=await fetch(d,{method:"DELETE",credentials:"include"}),e=await t.json();if(t.ok)window.location="./";else throw e}catch(o){c(r,!1),c(g,R(o)),window.scroll({top:0,behavior:"smooth"})}};var M=f('<i class="fa-solid fa-spinner animate-spin"></i>'),N=f('<i class="fa-solid fa-trash"></i>'),O=f('<h1 class="m-4 text-center text-4xl font-bold">Reset</h1> <div class="m-2 mx-auto max-w-3xl text-center sm:p-4"><!> <div class="inline-block max-w-lg rounded-lg bg-red-400 bg-opacity-40 p-6 px-12 text-red-800 dark:bg-red-500 dark:bg-opacity-20 dark:text-red-400"><p class="text-xl font-semibold">Caution</p> This will irreversibly delete all data associated with your guild, <b>including tickets and archives!</b></div> <div><button type="button" class="mt-4 rounded-lg bg-red-300 p-2 px-5 font-medium transition duration-300 hover:bg-red-500 hover:text-white disabled:cursor-not-allowed dark:bg-red-500/50 dark:hover:bg-red-500 dark:hover:text-white"><!> Delete</button></div></div>',1);function U(u,r){$(r,!0);const d=T(),o=`/api/admin/guilds/${j(B,"$page",d).params.guild}/settings`;let t=_(null),e=_(!1);var v=O(),b=w(E(v),2),h=l(b);k(h,()=>i(t),a=>{F(a,{get error(){return i(t)}})});var x=w(h,4),s=l(x);s.__click=[I,e,o,t];var y=l(s);k(y,()=>i(e),a=>{var n=M();m(a,n)},a=>{var n=N();m(a,n)}),C(),p(s),p(x),p(b),L(()=>s.disabled=i(e)),m(u,v),A()}D(["click"]);export{U as component};
